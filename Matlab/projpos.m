% Plot projector positions
actual=[1 0.3 1.2
        -4 4 1.2];
% With float fh=547.392, fv=-547.3440, ch=0, cv=1298.9;
est=[6.2 3.2 1.8
     2.2 0.4 1.9];
% With float fh=-547.392, fv=547.3440, ch=0, cv=1298.9;
%est=[-6.19559327523228 -3.193654034736601 1.806050612627703
%-2.200758843820565 -0.4245316358490139 1.894282679762936];

setfig('projpos');clf;
plot(actual(:,1),actual(:,2),'o');
hold on;
plot(est(:,1),est(:,2),'x');
legend('actual','estimated');
xlabel('X');
ylabel('Y');
axis equal

src=[582.345458984375, 19.9511604309082, 808.1552124023438, 404.4752807617188, 577.7470703125, 217.7782287597656, 1058.904907226562, 923.2915649414062, 901.5184326171875, 443.0107727050781, 1353.303955078125, 492.4229431152344, 615.3204956054688, 821.5849609375];
dst=[-2.386893510818481, 5.305253028869629, 0, -0.5837472081184387, 3.180337190628052, 0, -1.799497008323669, 3.984817504882812, 0, 0.7194727063179016, 1.461861133575439, 0, -0.2301059365272522, 3.07592511177063, 0, 1.20340633392334, 3.252561092376709, 0, -0.5198125243186951, 1.401631236076355, 0];

src=reshape(src,2,[])';
dst=reshape(dst,3,[])';
setfig('mapping');clf;
for i=1:size(src,1)
  subplot(211);
  plot(src(i,1),src(i,2),'o');
  hold on;
  text(src(i,1)+20,src(i,2)+10,sprintf('%d',i));
  axis equal
  axis ij
  subplot(212);
  plot(dst(i,1),dst(i,2),'o');
  hold on;
  text(dst(i,1)+0.1,dst(i,2)+0.1,sprintf('%d',i));
  axis equal
end
subplot(211);
bounds=[0 0 
        1920 0
        1920 1080
        0 1080
        0 0];
plot(bounds(:,1),bounds(:,2));
subplot(212);
plot(actual(:,1),actual(:,2),'xg');
plot(est(2,1),est(2,2),'+r');
  
